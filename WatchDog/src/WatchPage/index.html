<!DOCTYPE html>
<html lang="en">
<head>
	<title>WATCHDOG</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--===============================================================================================-->
	<!--<link rel="icon" type="image/png" href="statics/images/icons/favicon.ico" />-->
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="statics/vendor/bootstrap/css/bootstrap.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="statics/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="statics/css/util.css">
	<link rel="stylesheet" type="text/css" href="statics/css/main.css">
	<!--===============================================================================================-->
</head>
<body>
	<!--<div class="container table-responsive">
		<table class="table">
			<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">Heading</th>
					<th scope="col">Heading</th>
					<th scope="col">Heading</th>
				</tr>
			</thead>
			<tbody>
				<tr class="accordion-toggle collapsed" id="accordion1" data-toggle="collapse" data-parent="#accordion1" href="#collapseOne">
					<td class="expand-button"></td>
					<td>Cell</td>
					<td>Cell</td>
					<td>Cell</td>

				</tr>
				<tr class="hide-table-padding">
					<td></td>
					<td colspan="3">
						<div id="collapseOne" class="collapse in p-3">
							<div class="row">
								<div class="col-2">label</div>
								<div class="col-6">value 1</div>
							</div>
							<div class="row">
								<div class="col-2">label</div>
								<div class="col-6">value 2</div>
							</div>
							<div class="row">
								<div class="col-2">label</div>
								<div class="col-6">value 3</div>
							</div>
							<div class="row">
								<div class="col-2">label</div>
								<div class="col-6">value 4</div>
							</div>
						</div>
					</td>
				</tr>
				<tr class="accordion-toggle collapsed" id="accordion2" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">
					<td class="expand-button"></td>
					<td>Cell</td>
					<td>Cell</td>
					<td>Cell</td>

				</tr>
				<tr class="hide-table-padding">
					<td></td>
					<td colspan="4">
						<div id="collapseTwo" class="collapse in p-3">
							<div class="row">
								<div class="col-2">label</div>
								<div class="col-6">value</div>
							</div>
							<div class="row">
								<div class="col-2">label</div>
								<div class="col-6">value</div>
							</div>
							<div class="row">
								<div class="col-2">label</div>
								<div class="col-6">value</div>
							</div>
							<div class="row">
								<div class="col-2">label</div>
								<div class="col-6">value</div>
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>-->

	<div class="table-responsive">
		<table class="table table-hover table-dark table-bordered">
			<thead class="table-dark">
				<tr>
					<th scope="col">TYPE</th>
					<th scope="col">PATH</th>
					<th scope="col">STATUS</th>
					<th scope="col">DURATION</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th scope="row">1</th>
					<td>Mark</td>
					<td>Otto</td>
					<td>@mdo</td>
				</tr>
				<tr>
					<th scope="row">2</th>
					<td>Jacob</td>
					<td>Thornton</td>
					<td>@fat</td>
				</tr>
				<tr>
					<th scope="row">3</th>
					<td>Larry the Bird</td>
					<td>Thornton</td>
					<td>@twitter</td>
				</tr>
			</tbody>
		</table>
	</div>


	<!--===============================================================================================-->
	<script src="statics/vendor/jquery/jquery-3.2.1.min.js"></script>
	<script src="statics/vendor/bootstrap/js/popper.min.js"></script>
	<script src="statics/vendor/bootstrap/js/bootstrap.min.js"></script>
	<script src="statics/signalr/signalr.js"></script>


	<script>
		$(document).ready(function () {
			$.ajax({
				type: "GET",
				url: "/watchpage",
				context: document.body,
				success: function (data) {
					console.log(data);
				}
			});
		});
	</script>

	<!--<script>
		console.log("...START...");
		$.ajax({
			type: "GET",
			url: '/WebPage/GetAllLogs',
			//data: { id: object_id },
			success: function (response) {
				console.log(response);
			}
		});

		$.get('/WebPage/GetAllLogs', null, function (data) {
			console.log(data);
		});
		console.log("...STOP...");

		//Creates a connection to the server hub
		var connection = new signalR.HubConnectionBuilder()
			.withUrl("/LoggerHub")
			.configureLogging(signalR.LogLevel.Information)
			.withAutomaticReconnect()
			.build();

		async function start() {
			try {
				this.connection.on("getAllLogs", (logs) => {
					console.log(logs);
					console.log("omo");
				});
				await connection.start().then(() => console.log('Connection started'))
					.catch(err => console.log('Error while starting connection: ' + err));
				//console.log("SignalR Connected.");

	//            connection.stream("GetAllLogs")
	//                .subscribe({
	//                    next: (item) => {
	//                        console.log(item);
	//                    },
	//                    complete: () => {
	//                        console.log("End of Stream");
	//                    },
				//		error: (err) => {
				//			console.log(err);
	//                    },
				//});

				//connection.invoke('Send', "hey");
			} catch (err) {
				console.log(err);
				setTimeout(start, 5000);
			}
		};

		connection.onclose(async () => {
			await start();
		});

		connection.onclose(async () => {
			await start();
		});

		// Start the connection.
		start();
	</script>-->
	<!--===============================================================================================-->
	<script src="statics/js/main.js"></script>

</body>
</html>